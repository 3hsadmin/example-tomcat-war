bmcgehee/SimpleTomcatWebApp:

  Env:
    - CATALINA_HOME: "/var/lib/tomcat7"
    - JAVA_HOME: "/usr/lib/jvm/java-7-oracle/jre"

  PreBuild:
    #- sudo add-apt-repository -y ppa:webupd8team/java
    #- sudo apt-get -y update
    #- echo debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections
    #- echo debconf shared/accepted-oracle-license-v1-1 seen true | sudo debconf-set-selections    
    #- sudo apt-get -y install oracle-java7-installer
    #- sudo apt-get -y install oracle-java7-set-default
    #- sudo apt-get -y install tomcat7
    #- sudo apt-get -y install maven

  Build:
    - mvn package

  PkgInclude:
    - '/target/SimpleTomcatWebApp.war'
 
  PreInstall:
    - sudo add-apt-repository -y ppa:webupd8team/java
    - sudo apt-get -y update
    - echo debconf shared/accepted-oracle-license-v1-1 select true | sudo debconf-set-selections
    - echo debconf shared/accepted-oracle-license-v1-1 seen true | sudo debconf-set-selections    
    - sudo apt-get -y install oracle-java7-installer
    - sudo apt-get -y install oracle-java7-set-default
    - sudo apt-get -y install tomcat7

  PostInstall:
    - 'sudo cp -f ./target/*.war $CATALINA_HOME/webapps/'
    # By default tomcat detects if the war file has changed and
    # automatically extracts it. If restart is required you can
    # restart tomcat with the command below.
    # Restart Tomcat - You might have to use a different command
    # depending on how tomcat is installed
    #- sudo service tomcat7 restart
    
